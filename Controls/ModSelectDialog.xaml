<!-- ============================================================================
  ApolloGUI — ModSelectDialog.xaml
  Purpose: TODO: brief purpose of this file.
  Key UI elements: TODO: key types/classes used.
  Notes: TODO: important usage and gotchas.
  Version: v1.0.0   Date: 2025-08-31
  Copyright (c) 2025 Skiller S
  ============================================================================
  Change Log:
    - v1.0.0 (2025-08-31): Repository-ready header added.
============================================================================ -->

<Window x:Class="ApolloGUI.ModSelectDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Select MOD" SizeToContent="WidthAndHeight"
        MaxHeight="720" MinWidth="420" WindowStartupLocation="CenterOwner">
    <DockPanel>
        <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="10">
            <TextBlock Text="{Binding Caption}" FontWeight="SemiBold" VerticalAlignment="Center"/>
            <TextBlock Text="   " />
            <TextBlock Text="{Binding TagName}" Foreground="#777" VerticalAlignment="Center"/>
        </StackPanel>

        <Grid Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <TextBox x:Name="FilterBox" Grid.Row="0" Height="28" Width="240" VerticalContentAlignment="Center"
                     Margin="0,0,0,8" TextChanged="FilterBox_TextChanged"/>

            <!-- Grid view -->
            <DataGrid x:Name="Grid" Grid.Row="1" AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False"
                      CanUserDeleteRows="False" SelectionMode="Single" HeadersVisibility="Column"
                      GridLinesVisibility="All" ColumnWidth="SizeToCells"
                      ScrollViewer.VerticalScrollBarVisibility="Auto" Margin="0,0,0,8" Visibility="Collapsed"
                      MouseDoubleClick="Accept_OnDoubleClick"/>

            <!-- Simple list -->
            <ListBox x:Name="List"
         Grid.Row="1"
         Visibility="Collapsed"
         MouseDoubleClick="Accept_OnDoubleClick">
  <ListBox.ItemContainerStyle>
    <Style TargetType="ListBoxItem">
      <Setter Property="ContextMenu">
        <Setter.Value>
          <ContextMenu>
            <MenuItem Header="Copy"
                      Command="{Binding DataContext.CopyCodeCommand, RelativeSource={RelativeSource AncestorType=ListBox}}"
                      CommandParameter="{Binding}" />
            <MenuItem Header="Edit…"
                      Command="{Binding DataContext.EditSpecialModCommand, RelativeSource={RelativeSource AncestorType=ListBox}}"
                      CommandParameter="{Binding}" />
            <MenuItem Header="Delete"
                      Command="{Binding DataContext.DeleteSpecialModCommand, RelativeSource={RelativeSource AncestorType=ListBox}}"
                      CommandParameter="{Binding}" />
          </ContextMenu>
        </Setter.Value>
      </Setter>
    </Style>
  </ListBox.ItemContainerStyle>
</ListBox>

<StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
  <Button Content="Cancel" Width="90" Margin="0,0,8,0" IsCancel="True"/>
  <Button Content="OK" Width="120" IsDefault="True" Click="OK_Click"/>
</StackPanel>
        </Grid>
    </DockPanel>
</Window>
